<div class="admin-container fade-in">
    <div class="header-section">
        <h2>Paramètres de Sécurité</h2>
        <p class="text-muted">Protégez votre compte et gérez vos accès</p>
    </div>

    <div class="card security-card">
        <div class="card-header">
            <i class="bi bi-shield-lock-fill"></i>
            <h3>Changer le mot de passe</h3>
        </div>
        <p class="text-muted small mb-4">Nous vous recommandons d'utiliser un mot de passe fort contenant des lettres,
            des chiffres et des symboles.</p>

        <form (ngSubmit)="onSubmitPasswordChange()" #pwdForm="ngForm">
            <div class="form-group mb-3">
                <label>Mot de passe actuel</label>
                <div class="input-with-icon">
                    <i class="bi bi-lock"></i>
                    <input type="password" [(ngModel)]="passwordData.currentPassword" name="currentPassword" required
                        placeholder="Tapez votre mot de passe actuel">
                </div>
            </div>

            <div class="separator mt-4 mb-4"></div>

            <div class="form-group mb-3">
                <label>Nouveau mot de passe</label>
                <div class="input-with-icon">
                    <i class="bi bi-key"></i>
                    <input type="password" [(ngModel)]="passwordData.newPassword" name="newPassword" required
                        placeholder="Au moins 8 caractères">
                </div>
            </div>
            <div class="form-group mb-4">
                <label>Confirmer le nouveau mot de passe</label>
                <div class="input-with-icon">
                    <i class="bi bi-key-fill"></i>
                    <input type="password" [(ngModel)]="passwordData.confirmPassword" name="confirmPassword" required
                        placeholder="Répétez le nouveau mot de passe">
                </div>
            </div>

            <div class="form-actions">
                <button type="submit" [disabled]="!pwdForm.form.valid" class="btn btn-dark w-100 btn-hover-rise">
                    <i class="bi bi-check2-circle me-2"></i> Mettre à jour le mot de passe
                </button>
            </div>

            <div *ngIf="pwdSuccessMsg" class="alert alert-success mt-3">{{pwdSuccessMsg}}</div>
            <div *ngIf="pwdErrorMsg" class="alert alert-danger mt-3">{{pwdErrorMsg}}</div>
        </form>
    </div>
</div>